const M=document.getElementById("sound");let d=!1,s,f,p;M.onclick=()=>{if(d=!d,d){M.textContent="\u{1F508}",s=new AudioContext,f=new OscillatorNode(s,{type:"triangle",frequency:0}),p=new OscillatorNode(s,{type:"triangle",frequency:0});const e=new GainNode(s,{gain:.2});f.connect(e),p.connect(e),e.connect(s.destination),f.start(0),p.start(0),q()}else M.textContent="\u{1F507}",s?.close(),s=void 0};let S=!1;async function N(){s?.state==="suspended"&&await s.resume()}function q(){s?.suspend()}function v(e){!d||(N(),S?f.frequency.value=e/o*1e3:p.frequency.value=e/o*1e3,S=!S)}function H(){!d||(q(),f.frequency.value=0,p.frequency.value=0)}const g=document.getElementById("element-slider"),m=document.getElementById("element-value");m.textContent="100 elements";const c=document.getElementById("alg-window"),A=document.getElementById("speed-slider"),L=document.getElementById("speed-value");L.textContent="x1 Speed";let l,o=100,n=new Array(o).fill({value:0,action:"set"});g.onmouseup=()=>{let e=g.valueAsNumber,t=Math.round(e/9)*9;g.valueAsNumber=t};A.oninput=()=>{let t=(A.valueAsNumber/10)**2;L.innerHTML=`x${t.toFixed(2).replace(/.0{0,2}$/,"")} Speed`,G=Math.trunc(o*t/100)};g.oninput=async()=>{let e=g.valueAsNumber,a=(Math.round(e/9)+1)*100,u=500/a;m.innerHTML=a+" elements",c.style.setProperty("--elements",u+"px"),(window.innerWidth<=800||window.innerHeight<=600)&&(a>500?(m.style.color="red",m.textContent+=" (MIGHT BE LAGGY)"):m.style.color="white"),o=a,n=new Array(o).fill({value:0,action:"set"}),await P()};async function P(){l=[0];for(let e=0;e<o;e++)l[e]=e;w=0,await T()}async function ee(){await N(),h=0,E=0,B=0,r=0,y=0,b=window.performance.now(),k=window.performance.now()}let w=0,k=0,G=Math.trunc(o/100);async function T(){if(w!=0){for(let e=0;e<o;e++)n[e].value>0&&n[e].value--;w--;return}Q(),c.innerHTML="";for(let e=0;e<o;e++){let t=c.children.item(e);if(t==null&&(t=document.createElement("div"),c.appendChild(t)),c.children.length>o)for(let i=o;i<c.children.length;i++)c.children.item(i)?.remove();t.classList.add("bar");let u=l[e]*100/o;if(t.style.setProperty("--height",u+"%"),n[e].value>0){let i=255,I=255,C=255;n[e].action=="set"?(I-=n[e].value*25,C-=n[e].value*25):n[e].action=="get"?(i-=n[e].value*25,C-=n[e].value*25):n[e].action=="swap"&&(i-=n[e].value*25,I-=n[e].value*25),t.style.backgroundColor=`rgb(${i}, ${I}, ${C})`,n[e].value--}}await K(.1),w=G}const $=document.getElementById("operations"),F=document.getElementById("swaps"),z=document.getElementById("sets"),J=document.getElementById("gets"),O=document.getElementById("comparisons"),V=document.getElementById("real-time"),W=document.getElementById("visual-time"),j=document.getElementById("ops-per-ms"),D=document.getElementById("comps-per-ms");async function Q(){let e=h+E+B+r;$.textContent=e.toString(),F.textContent=B.toString(),z.textContent=h.toString(),J.textContent=E.toString(),O.textContent=r.toString(),V.textContent=Math.trunc(y).toString();let t=Math.trunc((window.performance.now()-k)*.001);W.textContent=t.toString();let a=Math.trunc(e/y);j.textContent=a.toString();let u=Math.trunc(r/y);D.textContent=u.toString()}async function U(){H();for(let e=0;e<10;e++)w=0,await T()}let h=0;function te(e,t){h++,l[e]=t,n[e]={value:10,action:"set"},v(t)}let E=0;function ne(e){return E++,v(l[e]),n[e]={value:10,action:"get"},l[e]}let B=0;function Y(e,t){B++;let a=l[e];l[e]=l[t],l[t]=a,n[e]={value:10,action:"swap"},n[t]={value:10,action:"swap"},v(l[e]),v(l[t])}let r=0;function oe(e,t){return r++,e<t}function le(e,t){return r++,e>t}const K=e=>new Promise(t=>setTimeout(t,e));let b;function R(){console.time("sort"),b=window.performance.now()}let y=0;function X(){y+=window.performance.now()-b}P();const Z=document.getElementById("shuffle");Z.onclick=async()=>{for(let e=0;e<o;e++){R();let t=Math.trunc(Math.random()*o-1);Y(t,e),X(),await T()}await U()};const x=document.getElementById("consent"),_=document.getElementById("continue");_.onclick=()=>{x.classList.add("policy-disappear"),setTimeout(()=>{x.remove()},1e3),window.localStorage.setItem("hide-consent","14JAN")};window.localStorage.getItem("hide-consent")=="14JAN"&&x.remove();export{o as a,R as b,te as c,oe as d,X as e,U as f,ne as g,Y as h,le as i,T as r,ee as s};
